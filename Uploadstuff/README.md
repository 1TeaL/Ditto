# DittoRor2
Ditto mod for Ror2
Ditto!
## Ditto
Adds Ditto, the transform Pok√©mon.
#### Multiplayer works (hopefully). 
#### Dropinmultiplayer mod lets you turn back to ditto with the /join_as ditto command. If you ever get stuck try to use it and let me know what monster/character had you stuck.
#### Message me on the Risk of Rain 2 Modding Discord if there are any issues- TeaL#5571. 
#### <a href="https://ko-fi.com/tealpopcorn"><img src="https://user-images.githubusercontent.com/93917577/160220529-efed5020-90ac-467e-98f2-27b5c162d744.png"> </a>
If you enjoy my work, support me on Ko-fi!
## Popcorn Factory
<b>Check out other mods from the Popcorn Factory team!</b>
<div>
    <a href="https://thunderstore.io/package/PopcornFactory/ShigarakiMod/">
        <img src="https://user-images.githubusercontent.com/93917577/168004591-39480a52-c7fe-4962-997f-cd9460bb4d4a.png"><br>
        <p>ShigarakiMod (My other Mod!)</p>
    </a>
</div>
<div>
    <a href="https://thunderstore.io/package/TeaL/DekuMod/">
        <img src="https://cdn.discordapp.com/attachments/399901440023330816/960043614036168784/TeaL-DekuMod-3.1.1.png.128x128_q95.png"><br>
        <p>DekuMod (My other Mod!)</p>
    </a>
</div>
<div>
    <a href="https://thunderstore.io/package/Ethanol10/Ganondorf_Mod/">
        <img src="https://cdn.discordapp.com/attachments/399901440023330816/960043613428011079/Ethanol10-Ganondorf_Mod-2.1.5.png.128x128_q95.png"><br>
        <p>Ganondorf Mod (Ethanol 10)</p>
    </a>
</div>
<div>
    <a href="https://thunderstore.io/package/BokChoyWithSoy/Phoenix_Wright_Mod/">
        <img src="https://cdn.discordapp.com/attachments/399901440023330816/960054458790850570/BokChoyWithSoy-Phoenix_Wright_Mod-1.6.2.png.128x128_q95.png"><br>
        <p>Phoenix Wright Mod (BokChoyWithSoy)</p>
    </a>
</div>
<div>
    <a href="https://thunderstore.io/package/PopcornFactory/Wisp_WarframeSurvivorMod/">
        <img src="https://cdn.discordapp.com/attachments/399901440023330816/960043613692239942/PopcornFactory-Wisp_WarframeSurvivorMod-1.0.2.png.128x128_q95.png"><br>
        <p>Wisp Mod (Popcorn Factory Team)</p>
    </a>
</div>

## Latest Changelog, Next update(s)

- 2.0.1 
    - Fixed transform duration decrementing incorrectly.
    - Noted known issues- the host doesn't move for other players- to fix, just restart the lobby or have someone host
    - Noted Networked timed buffs mod not showing duration for transform debuff for non-hosts, but it is still decreasing.
- 2.0.0 
    - Bug Fixes
        - Fixed networking/multiplayer issues (hopefully). 
        - Non-hosts can now get elite equipment.
        - Transform debuff should properly decrease for non-hosts as it is now a duration rather than stacks.
        - Transform key will now work for individual players, hosts won't detransform other players.
    - Changes
        - Leftovers now heal 6.25% HP per second, and its proper healing not regen.
        - The Utility slot for Items is removed, no more item stacking. 
    - *NEW*
        - ADDED ABILITIES for the Utility slots!
        - Try out the item and ability combinations for some CRAZINGO gameplay!


- Next update(s)
    - Bug fixes. 

<img src="https://user-images.githubusercontent.com/93917577/190889679-f4e22ebc-81fb-4b6c-bfac-26d9792181f2.PNG">

## Known Issues

Some Transformations aren't able to use equipment. Transform key/30 second timer will turn them back.
Hosts won't be moving for non-hosts-> fix by restarting the lobby or having someone else host, not sure why this happens.
Networked timed buffs don't show the duration for the transformdebuff? it still works.
No Ragdoll yet

## Overview
    Ditto can transform into any character/monster
    Ditto copies every stat besides HP, regen, armor and movespeed
    Use Ditto's equipment to transform back to ditto. It can also drop naturally.
    Ditto drops an elite's equipment when transforming.
    Ditto's secondary and utility skills are items that when activated give buffs that are carried over when transformed as well. They stack as well by having both equipped.

## Skills
### Passive
Ditto comes with an equipment that transform yourself into a ditto. It has a double jump. It can sprint in any direction. It takes no fall damage. Press F(default) to transform back to ditto as well.
<table>
<thead>
  <tr>
    <th>Item</th>
    <th>                         </th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Assault<br>Vest</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/163767048-4d73f1cb-4f29-4e50-82c2-fc926fc2acc5.png" width="100" height="100"></td>
    <td>Grant 100 armor.</td>
  </tr>
  <tr>
    <td>Choice<br>Band</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/161869491-f2ba655d-59db-4204-b640-c078d1e7cfdc.png" alt="Image" width="100" height="100"></td>
    <td>Grant 50% attackspeed.</td>
  </tr>
  <tr>
    <td>Choice<br>Scarf</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/161869503-f9077a03-27bc-4fee-aa73-4ec62205264f.png" alt="Image" width="100" height="100"></td>
    <td>Grant 50% movespeed.</td>
  </tr>
  <tr>
    <td>Choice<br>Specs</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/161869509-01b7bd3c-336f-4b94-a982-c9427c89ec86.png" alt="Image" width="100" height="100"><br></td>
    <td>Grant 25% cooldown reduction.</td>
  </tr>
  <tr>
    <td>Leftovers</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/163766994-4c80ebc6-bf44-4428-bbee-e49e3d9a8299.png" alt="Image" width="100" height="100"></td>
    <td>Grant 6.25% of your max health as regen.</td>
  </tr>
  <tr>
    <td>Life Orb</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/163767074-e993ab78-7273-4a0f-ac03-a29ef086a810.png" alt="Image" width="100" height="100"></td>
    <td>Grant 50% damage.</td>
  </tr>
  <tr>
    <td>Lucky Egg</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/163767076-fd6a5f42-ac6d-474b-8ea0-4097729f1977.png" alt="Image" width="100" height="100"></td>
    <td>Grant 1 luck.</td>
  </tr>
  <tr>
    <td>Rocky Helmet</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/163767009-c4d9d7ec-c458-423b-b66e-b00d3f68601d.png" alt="Image" width="100" height="100"></td>
    <td>When hit, stun and deal damage around you. <br>Proc: 1.</td>
  </tr>
  <tr>
    <td>Scope Lens</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/163767024-2c717c79-c1f0-4e99-a6ba-b6c597f02a73.png" alt="Image" width="100" height="100"></td>
    <td>Grant 30% critical hit chance.</td>
  </tr>
  <tr>
    <td>Shell Bell</td>
    <td><img src="https://user-images.githubusercontent.com/93917577/163767034-81e18fff-63a2-421f-b1b0-f39fd1475f11.png" alt="Image" width="100" height="100"></td>
    <td>Grant 5% lifesteal.</td>
  </tr>
</tbody>
</table>

<table>
<thead>
  <tr>
    <th>Ability</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Flame Body</td>
    <td>When hit, damage and burn nearby enemies. Proc: 1.</td>
  </tr>
  <tr>
    <td>Huge Power</td>
    <td>Double your damage.</td>
  </tr>
  <tr>
    <td>Levitate</td>
    <td>Float by holding the jump button.</td>
  </tr>
  <tr>
    <td>Magic Guard</td>
    <td>Immune to DoTs.</td>
  </tr>
  <tr>
    <td>Moody</td>
    <td>Every 20 seconds, gain 2 stacks of a random buff and 1 stack of a random debuff.<br>Damage increments by 10%.<br>Armor increments by 5.<br>Movespeed increments by 10%.<br>Attackspeed increments by 10%.</td>
  </tr>
  <tr>
    <td>Moxie</td>
    <td>Gain 30% damage on kill for 20 seconds, stacking.</td>
  </tr>
  <tr>
    <td>Multiscale</td>
    <td>Take 50% reduced damage while at full health.</td>
  </tr>
  <tr>
    <td>Sniper</td>
    <td>Deal 150% damage on critical hits.</td>
  </tr>
</tbody>
</table>

## Numbers
##### Armor = 10 + 0.5 per level
##### Damage = 20 + 4 per level
##### Regen = 1 + 0.2 per level 
##### Health = 206 + 48 per level
##### Movespeed = 7

These stats are prone to change.

## Changelog

<details>
<summary>Click to expand previous patch notes:</summary>
- 1.3.6 
    - Fixed boss config, and tbh with the new transform hotkey, no more softlocks should exist, however I'll keep the 30 second timer as a default since bosses can be quite strong (They also got buffed with the instantly spawn change).
- 1.3.5 
    - Hopefully fixed null errors and fps issues.
- 1.3.4 
    - Fixed item buff passives not properly given to Ditto in future runs (hopefully).
- 1.3.3 
    - Added config to disable dropping aspects when transforming into Elites.
    - Fixed item buff passives not properly given to Ditto as well as previous run buffs carrying over.
- 1.3.2 
    - Fixed equipment not working.
- 1.3.1 
    - Forgot to mention equipments now drop from elites.
- 1.3 
    - Transforms now instantly happen without a spawn animation to save time. With this I changed it so you only get 1 second of invincibility.
    - Transform hotkey added! By default it is F, and can be configured in the Configs!
- 1.2 
    - Fixed buffs carrying over between stages and transformations, fixed rocky helmet bugs.
    - Buffed Ditto base HP 100 + 20/level -> 206 + 48/level.
    - Buffed Ditto base Damage 15 + 3/level -> 20 + 4/level.
    - Buffed Ditto's transform HP from being Ditto's HP + 10% of the Target's -> Ditto's HP + 20% of the Target's .
- 1.1.10 
    - Fixed code being too clean, rocky helmet bug fix with the void cradles.
    - Blacklisted Void Infestor from transforms as it's coded such that void infestor dies when it possesses an enemy.
- 1.1.9 
    - Stability/cleaner code.
- 1.1.8 
    - Fixed mmhook dependency.
- 1.1.7 
    - Fixed adding achievement back..  
- 1.1.6 
    - Added achievement back hehe. 
- 1.1.5 
    - Added Config so you can multiply damage, attackspeed and movespeed of your transformations. 
    - Added shiny skin back without the achievement. 
- 1.1.4 
    - Fixed contentpack identifier
- 1.1.3 
    - Forgot to add scavenger to be included in the timers list.
- 1.1.2 
    - Added Config so you can disable timers for bosses. This still adds a timer to specific transformations that can cause a softlock such as the void final boss and other void enemies.
    - Fixed transformation timers so it doesn't decrease at multiple stacks at a time during the run.
    - Fixed TM- Transform from being accessed by bottled chaos. 
    - Fixed some grammar issues in the character menu. 
- 1.1.1 
    - Hotfix so buffs don't carry over runs.
- 1.1.0 
    - Changed the method in which Ditto transforms, doesn't respawn as the character anymore- should cause less issues. (Credits to Bubbet).
    - Checks if player owns the dlc before allowing them to transform into railgunner or void fiend as people without it would die. (Credits to Bubbet).
    - Added configs to the above additions as well as whether buffs should be carried over to the transformations (Credits to Bubbet).
    - Buffs now carry over when respawned/entering a new stage.
    - Changed TM00 - Transform? Equipment to the lunar pool. This will prevent it from being called by bottled chaos.
    - New Secondary and Utility 'Items' and changes
        - *CHANGED* - Rocky Helmet now does a blast attack that stuns around you. A second stack doubles the radius and proc chance.
        - *CHANGED* - Choice Specs now reduces cooldowns by 25% per stack.
        - *NEW*- Assault Vest grants 100 armor per stack.
        - *NEW*- Life Orb grants the damage boost of old choice specs per stack.
        - *NEW*- Lucky Egg grants 1 luck per stack (acts as a Clover).
    - Disabled transformations for Xi construct attachable constructs, Siren's Call Vulture eggs, Sky Meadows rock transforms, Mending Elite's healing orb, Clay Grenadier.
    - Adjusted sound balance so that struggle sfx is only played 10% of the time, fixed Ditto playing Deku's voice in the character select menu (fixed on Deku's end).     
    - Transforming into bosses and specific monsters will set a 30 second timer to the transformation, this should nerf how overpowered becoming a strong boss is such as an overloading worm, or abusing scavenger item gain.  
        - Due to the above change, more transformations are now available, including ones that don't have equipment slots. 
        - If player revives/goes to the next stage with transformations that have the timer will reset to 30 seconds.

- 1.0.1 
    - Fixed shopkeeper and void jailer transforms.
    - noted that the FallenFriends mod can't be used in conjuction with ditto.
- 1.0.0 
    - Release Ditto!(?)
- rest of changelog on github
    
</details>

## Future plans
##### Unown for now


## Credits
##### HenryMod for the template.
##### Bubbet for copy loadout code, fractional health copy code, checking dlc requirement code, configs.
##### MonsterMash (CherryDye) for code that lets characters who don't have an equipment slot use equipment.